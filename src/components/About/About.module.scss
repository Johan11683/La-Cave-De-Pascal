@use '../../styles/mixins' as *;
@use '../../styles/variables' as v;

/* ========= Section ========= */
.about {
  padding: v.$space-8 0;
   /* ✅ ancres avec header sticky */
  scroll-margin-top: var(--header-height);
}

/* ========= Layout en Flex (modulaire + centré) ========= */
.inner {
  --about-text: 0.55;  /* 55% texte */
  --about-media: 0.45; /* 45% images */

  @include container;
  display: flex;
  gap: v.$space-7;
  justify-content: center;
  align-items: center;

  width: min(100% - 2rem, v.$container);
  margin-inline: auto;

  @include md-down {
    flex-direction: column;
    align-items: stretch;
    gap: v.$space-6;
  }
}

/* colonnes */
.textBlock {
  flex: 1 1 calc(var(--about-text) * 100%);
  max-width: 720px;
  align-self: center;

  @include md-down {
    flex-basis: 100%;
    max-width: none;
  }
}

.media {
  flex: 1 1 calc(var(--about-media) * 100%);
  align-self: center;
  min-width: 0;

  @include md-down {
    flex-basis: 100%;
  }
}

/* ========= Typo ========= */
.title {
  font-size: clamp(1.8rem, 3.5vw, 2.4rem);
  margin: 0 0 v.$space-5;
  font-weight: 800;
  color: v.$accent;
}

.content {
  line-height: 1.75;
  p { margin: 0 0 v.$space-3; color: v.$accent-contrast; }
  strong { color: v.$accent; }
}

/* ========= Grille interne d’images ========= */
.images {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: v.$space-3;

  @include md-down {
    grid-template-columns: 1fr;
    justify-items: center;
  }
}

/* Cartes uniformisées */
.card {
  position: relative;
  width: 100%;
  aspect-ratio: 16 / 10;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 8px 20px rgba(0,0,0,.25);
  transition: transform .25s ease, box-shadow .25s ease;

  &:hover {
    transform: translateY(-4px);
    box-shadow: 0 12px 24px rgba(0,0,0,.35);
  }
}

.photo { object-fit: cover; }

/* largeur max mobile */
@include md-down {
  .card { max-width: 520px; width: 100%; }
}

/* ========= Responsive ========= */

/* <=1440 : un peu plus d’air */
@include xl-down {
  .inner { gap: v.$space-6; }
}

/* <=1024 : images sous texte + titre centré */
@include lg-down {
  .about { padding: v.$space-7 0; }

  /* ✅ centrage du titre */
  .title {
    text-align: center;
    margin-bottom: v.$space-4;
  }

  /* ordre : texte avant images */
  .textBlock { order: 1; }
  .media     { order: 2; width: 100%; display: block; }

  /* grille 2×2 */
  .images {
    grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
    gap: v.$space-2;
    justify-items: stretch;
  }

  .card {
    max-width: 100% !important;
    aspect-ratio: 4 / 3;
    box-shadow: 0 6px 16px rgba(0,0,0,.22);
  }
}

/* <=768 : 2×2 plus compact */
@include md2-down {
  .about { padding: v.$space-5 0; }
  .images { gap: v.$space-2; }
  .card { aspect-ratio: 3 / 2; }
}

/* <=425 : cacher la galerie */
@include sm2-down {
  .media { display: none; }
}

/* <=375 : mini */
@include xs-down {}
